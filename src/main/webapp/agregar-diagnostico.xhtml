<ui:composition template="index.xhtml" xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets">
<ui:define name="Nuevo">

<h:panelGrid columns="1" cellpadding="20">

    <p:panel header="Nuevo paciente">
        <h:form>
        <p:growl id="growl" showDetail="true" life="3000" autoUpdate="true"/>

            <p:outputLabel for="fecha" value="Fecha:" />
        <br/>
            <p:calendar id="fecha" value="#{diagnosticoMBean.fecha}"/>
        <br/>


        <br/>
        <br/>
        <hr/>
        <br/>
            <p:outputLabel for="medico" value="Médico:" />
        <br/>
        <p:dataTable id="medico" var="medico"
            value="#{medicoMBean.medicos}" widgetVar="medicosTable"
            emptyMessage="Medicos no encontrados con ese criterio"
            filteredValue="#{medicoMBean.filteredMedicos}" rows="5"
            paginator="true" paginatorTemplate="{CurrentPageReport}
            {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink}
            {LastPageLink} {RowsPerPageDropdown}"
            rowsPerPageTemplate="5,10,20,50" resizableColumns="false"
            liveResize="true" selectionMode="single"
            selection="#{diagnosticoMBean.medicoO}" rowKey="#{medico.id}">
                <f:facet name="header">
                    <p:outputPanel>
                        <p:inputText id="globalFilter"
                            onkeyup="PF('medicosTable').filter()"
                            style="width:150px" placeholder="Buscar"/>
                    </p:outputPanel>
                </f:facet>
                <p:column filterBy="#{medico.id}" headerText="ID"  filterMatchMode="contains">
                        <h:outputText value="#{medico.id}" />
                </p:column>
                <p:column filterBy="#{medico.cedula}" headerText="Cedula"  filterMatchMode="contains">
                    <h:outputText value="#{medico.cedula}" />
                </p:column>
                <p:column filterBy="#{medico.nombre}" headerText="Nombre"  filterMatchMode="contains">
                    <h:outputText value="#{medico.nombre}" />
                </p:column>
                <p:column filterBy="#{medico.apellido}" headerText="Apellido"  filterMatchMode="contains">
                    <h:outputText value="#{medico.apellido}" />
                </p:column>
            </p:dataTable>
        <br/>



        <br/>
        <hr/>
        <br/>
            <p:outputLabel for="paciente" value="Paciente:" />
        <br/>
        <p:dataTable id="paciente" var="paciente"
            value="#{pacienteMBean.pacientes}" widgetVar="pacientesTable"
            emptyMessage="Pacientes no encontrados con ese criterio"
            filteredValue="#{pacienteMBean.filteredPacientes}" rows="5"
            paginator="true" paginatorTemplate="{CurrentPageReport}
            {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink}
            {LastPageLink} {RowsPerPageDropdown}"
            rowsPerPageTemplate="5,10,20,50" resizableColumns="false"
            liveResize="true" selectionMode="single"
            selection="#{diagnosticoMBean.pacienteO}" rowKey="#{paciente.id}">
                <f:facet name="header">
                    <p:outputPanel>
                        <p:inputText id="globalFilter"
                            onkeyup="PF('pacientesTable').filter()"
                            style="width:150px" placeholder="Buscar"/>
                    </p:outputPanel>
                </f:facet>
                <p:column filterBy="#{paciente.id}" headerText="ID"  filterMatchMode="contains">
                        <h:outputText value="#{paciente.id}" />
                </p:column>
                <p:column filterBy="#{paciente.cedula}" headerText="Cedula"  filterMatchMode="contains">
                    <h:outputText value="#{paciente.cedula}" />
                </p:column>
                <p:column filterBy="#{paciente.nombre}" headerText="Nombre"  filterMatchMode="contains">
                    <h:outputText value="#{paciente.nombre}" />
                </p:column>
                <p:column filterBy="#{paciente.apellido}" headerText="Apellido"  filterMatchMode="contains">
                    <h:outputText value="#{paciente.apellido}" />
                </p:column>
                <p:column filterBy="#{paciente.edad}" headerText="Edad"  filterMatchMode="contains">
                    <h:outputText value="#{paciente.edad}" />
                </p:column>
                <p:column filterBy="#{paciente.procedencia}" headerText="Procedencia"  filterMatchMode="contains">
                    <h:outputText value="#{paciente.procedencia}" />
                </p:column>
            </p:dataTable>
        <br/>


        <br/>
        <hr/>
        <br/>
            <p:outputLabel for="examen" value="Tipo de examen: " />
            <p:selectOneMenu id="examen" value="#{diagnosticoMBean.examen}" style="width:550px">
                <f:selectItem itemLabel="Tomografía" itemValue="Tomografia" />
                <f:selectItem itemLabel="Radiografía" itemValue="Radiografia" />
            </p:selectOneMenu>
        <br/>


        <br/>
        <hr/>
        <br/>
            <p:outputLabel for="diagnostico" value="Diagnóstico: " />
            <br/>
            <p:inputTextarea rows="10" cols="50" id="diagnostico" value="#{diagnosticoMBean.diagnostico}"/>
        <br/>


        <br/>
        <hr/>
        <br/>
            <p:commandButton id="submit" value="Guardar" action="#{diagnosticoMBean.save()}" ajax="false"/>
            <p:commandButton id="reset" value="Reset" action="#{diagnosticoMBean.reset()}" ajax="false"/>



        </h:form>
    </p:panel>
</h:panelGrid>
</ui:define>
</ui:composition>
